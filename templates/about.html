{% extends "layout.html" %}
{% block content %}
<div class="jumbotron">
  <h1 class="display-4">Información Académica</h1>
  <p class="lead">Datos académicos de los empleados</p>
</div>

<div class="mb-3">
  <button id="btnAgregar" type="button" class="btn btn-success btn-sm">Agregar</button>
  <button id="btnEditar" type="button" class="btn btn-primary btn-sm" disabled>Editar</button>
  <button id="btnGuardar" type="button" class="btn btn-success btn-sm" disabled>Guardar</button>
  <button id="btnCancelar" type="button" class="btn btn-secondary btn-sm" disabled>Cancelar</button>
</div>

<div class="table-responsive">
  <table id="tablaAcademico" class="table table-bordered table-striped table-hover table-sm">
    <thead class="thead-dark">
      <tr>
        <th>DPI</th>
        <th>Nombre</th>
        <th>Apellidos</th>
        <th>Nivel de estudios</th>
        <th>Profesión u Oficio</th>
        <th>Colegio o establecimiento</th>
        <th>Cursos o títulos adicionales</th>
      </tr>
    </thead>
    <tbody>
      {% for e in empleados %}
      <tr>
        <td>{{ e['Numero de DPI'] }}</td>
        <td>{{ e['Nombre'] }}</td>
        <td>{{ e['Apellidos'] }}</td>
        <td>{{ e.get('Nivel de estudios') }}</td>
        <td>{{ e.get('Profesión u Oficio') }}</td>
        <td>{{ e.get('Colegio o establecimiento') }}</td>
        <td>{{ e.get('Cursos o titulos adicionales') }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // registrarTabla(idTabla, columnas, endpoint, campos, bloqueadas)
  // bloqueadas: índices de columnas que NO se pueden editar (0 = DPI, 1 = Nombre, 2 = Apellidos)
  window.registrarTabla(
    'tablaAcademico',
    7,
    '/guardar_academico',
    [
      "Numero de DPI","Nombre","Apellidos",
      "Nivel de estudios","Profesi\u00f3n u Oficio",
      "Colegio o establecimiento","Cursos o titulos adicionales"
    ],
    [0,1,2]
  );
});
</script>
{% endblock %}
