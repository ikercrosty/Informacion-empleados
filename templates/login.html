{% extends "layout.html" %}
{% block title %}Login{% endblock %}

{% block content %}
<div class="login-container">
  <div class="login-card">
    <h2 class="text-center login-title mb-4">Iniciar sesión</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div>
          {% for category, msg in messages %}
            <div class="alert alert-{{ category }}" role="alert">{{ msg }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('login') }}">
      <div class="form-group">
        <label for="usuario">Usuario:</label>
        <input id="usuario" type="text" class="form-control" name="usuario" autocomplete="username" required>
      </div>

      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input id="password" type="password" class="form-control" name="password" autocomplete="current-password" required>
      </div>

      {# Opcional para pruebas locales: seleccionar rol (NO habilitar en producción) #}
      {# 
      <div class="form-group">
        <label for="rol_test">Rol (solo pruebas)</label>
        <select id="rol_test" name="rol_test" class="form-control">
          <option value="">-- dejar en blanco --</option>
          <option value="admin">admin</option>
          <option value="editor">editor</option>
        </select>
      </div>
      #}

      <div class="form-group mt-3">
        <button type="submit" class="btn btn-primary btn-block">Entrar</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}

